cflags = -Wall -Wextra -Wpedantic

rule cc
  depfile = $out.d
  command = gcc -MD -MF $out.d $cflags -c $in -o $out

rule link
  command = gcc -o $out $in

rule runProg
  command = ./$in

build build/obj/main.o: cc src/main.c
build build/obj/mod.o: cc src/mod.c

build build/bin/test: link build/obj/main.o build/obj/mod.o

build run: runProg build/bin/test
